{% load myfilter %}
<div class="card mb-3">
	<div class="card-header">
	  <i class="fa fa-fw fa-table"></i> Resultsã€€&#40;Corrected Method: 
	  {% if corrected == '1' %}
			Bonferroni-corrected, cutoff=10<sup>-{{ cutoff }}</sup> &#41;
		{% else %}
			FDR (False Discovery Rate), &alpha;=10<sup>-{{ cutoff }}</sup> &#41;;
	  {% endif %}
	</div>
	<table class='table p-1' id="enrich_table">
		<thead>
			<th class="text-left" style="width:35%;">Name</th>
			<th class="text-right" style="width:25%;">Intersects / <br># of input genes</th>
			<th class="text-right" style="width:25%;">Histone Modification / <br># of genes in the yeast genome</th>
			<th class="text-right" style="width:15%;">P-value</th>
		</thead>
		<tbody>
	  	{% if corrected == '1' %}
				{% for type, g in enrich_value %}
					{% for p in g %}
						{% if p.0 %}
							<tr>
								<td class="text-left">{{ type }} {{forloop.counter0|now_type}} {{ p.0.1|pvalue_type }}</td>
								<td class="text-right">{{ p.1.0 }}/{{ p.1.1 }}({{ p.1.2 }})</td>
								<td class="text-right">{{ p.1.3 }}/{{ p.1.4 }}({{ p.1.5 }})</td>
								<td class="text-right">{{ p.0.0 }}</td>
							</tr>		
						{% endif %}
					{% endfor %}
				{% endfor %}
			{% else %}
				{% for value in enrich_value %}
					<tr>
						<td class="text-left">{{ value.0 }} {{value.1|now_type}}</td>
						<td class="text-right">{{ value.2.0 }}/{{ value.2.1 }}({{ value.2.0|calc_percent:value.2.1 }})</td>
						<td class="text-right">{{ value.2.2 }}/{{ 6572 }}({{ value.2.2|calc_percent:6572 }})</td>
						<td class="text-right">{{ value.3|format_pvalue }}</td>
					</tr>		
				{% endfor %}

			{% endif %}
		</tbody>
	</table>
</div>
