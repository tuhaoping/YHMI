{% extends "base.html" %}

{% block content %}
  <div class="mb-0 mt-4">
    <span class="input-option active"><i class="fa fa-file"></i> Gene Input </span>&nbsp;&nbsp;|&nbsp;
    <span class="input-option">
      <a data-toggle="modal" data-target="#div-custom">
        <i class="fa fa-wrench"></i> custom setting 
      </a>
    </span>
    {# <span class="input-option"><i class="fa fa-cog"></i> cutoff setting</span> #}
  </div>
  <hr class="mt-2">

  <!-- Gene Input-->
  <div class="row row-input show" id="div-input">
    <!-- Gene Input Set-->
    <div class="col-lg-3">
      <div class="card mb-3">
        <div class="card-header">
          <i class="fa fa-search"></i> Input <a id="a-eg" href="javascript:showExample(1);" title="Click to show iESR in first input text">(e.g.)</a></div>
        <div class="card-body" style="height:500px;" id="div-genetext">
          <textarea id="inputTextArea" class="form-control" style="height:100%; resize:none; overflow-x:hidden;"></textarea>
        </div>
      </div>
    </div>
    <!-- Gene Input Filter-->
    <div class="col-lg-9">
      <div class="card mb-3">
        <div class="card-header" style="height:49px;">
          <i class="fa fa-filter"></i> Gene Filter &nbsp;
            <label class="switch m-0">
              <input type="checkbox" id="switch">
              <span class="slider round"></span>
            </label>
            <div class="text-right d-inline float-right">
              Composition Option:
              <select id="Composition-select" disabled>
                <option value="Intersection">Intersection</option>
                <option value="Union">Union</option>
              </select>
            </div>
        </div>
        <div class="card-body p-0 div-disabled" style="height:500px;" id="div-filter">
          <div id="filter-accordion" role="tablist">
            {% for Paper,Feature in filter_data.items %}
              <div class="card">
                <div class="card-header" role="tab" id="{{Paper}}">
                  <h6 class="mb-0">
                    <a data-toggle="collapse" href="#{{Paper}}-collapse" role="button" aria-expanded="true" aria-controls="{{Paper}}-collapse">
                    {{ Paper }}
                    </a>
                  </h6>
                </div>

                <div id="{{Paper}}-collapse" class="collapse" role="tabpanel" aria-labelledby="{{Paper}}" data-parent="#filter-accordion" >
                  <div class="card-body" style="height:234.4px; overflow-y:scroll;">
                    <table class="table">
                      <thead>
                        <tr>
                          <th></th>
                          <th colspan="2">Promoter</th>
                          <th colspan="2">Coding Region</th>
                        </tr>
                        <tr>
                          <th></th>
                          <th>&#62;=</th>
                          <th>&#60;=</th>
                          <th>&#62;=</th>
                          <th>&#60;=</th>
                        </tr>
                      </thead>
                      <tbody>
                      {% for id,f in Feature %}
                        <tr class="tr-feature" id="f{{ id }}">
                          <td>{{ f }}</td>
                          <td>
                            <div>
                              <input type="checkbox" class="check-feature">
                              <input type="text" class="greater_pro" value="1.0" disabled style="width:35px;">
                            </div>
                          </td>
                          <td>
                            <div>
                              <input type="checkbox" class="check-feature">
                              <input type="text" class="less_pro" value="-1.0" disabled style="width:35px;">
                            </div>
                          </td>
                          <td>
                            <div>
                              <input type="checkbox" class="check-feature">
                              <input type="text" class="greater_cod" value="1.0" disabled style="width:35px;">
                            </div>
                          </td>
                          <td>
                            <div>
                              <input type="checkbox" class="check-feature">
                              <input type="text" class="less_cod" value="-1.0" disabled style="width:35px;">
                            </div>
                          </td>
                        </tr>
                      {% endfor %}
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>  
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- ./Gene Input-->



  <div class="row">
    <div class="col-lg-4">
      <label class="container">Bonferroni-corrected p-value
        <input type="radio" checked="checked" name="corrected">
        <span class="checkmark"></span>
      </label>
      <label class="container">FDR (False Discovery Rate)
        <input type="radio" name="corrected">
        <span class="checkmark"></span>
      </label>
    </div>
    <div class="col-lg-8 text-right">
      <div class="btn btn-primary w-10 mt-4" id="btn-send">
        Submit <i class="fa fa-fw fa-paper-plane"></i></div>
    </div>
  </div>
{% endblock content %}

{% block customModal %}
  {% include "custom-setting.html" %}
{% endblock customModal %}